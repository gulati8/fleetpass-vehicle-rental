# ==============================================================================
# FleetPass Backend - Production Environment Configuration
# ==============================================================================
# SECURITY WARNING: This is an EXAMPLE file. DO NOT commit actual secrets to git.
# Copy this file to .env.production and replace all placeholder values.
# ==============================================================================

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------
POSTGRES_USER=fleetpass_prod
POSTGRES_PASSWORD=REPLACE_WITH_SECURE_PASSWORD  # Generate with: openssl rand -base64 32
POSTGRES_DB=fleetpass_production

# Full database connection URL
# Format: postgresql://user:password@host:port/database?schema=public
DATABASE_URL=postgresql://fleetpass_prod:REPLACE_WITH_SECURE_PASSWORD@postgres:5432/fleetpass_production?schema=public

# ------------------------------------------------------------------------------
# Redis Configuration
# ------------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=REPLACE_WITH_REDIS_PASSWORD  # Generate with: openssl rand -base64 32

# ------------------------------------------------------------------------------
# Authentication & Security
# ------------------------------------------------------------------------------
# JWT Secret - CRITICAL: Must be cryptographically secure random string
# Generate with: openssl rand -base64 64
JWT_SECRET=REPLACE_WITH_64_BYTE_SECRET

# JWT token expiration time (examples: 15m, 1h, 7d, 30d)
JWT_EXPIRES_IN=7d

# ------------------------------------------------------------------------------
# Application Configuration
# ------------------------------------------------------------------------------
NODE_ENV=production
PORT=3001
API_PREFIX=api/v1

# ------------------------------------------------------------------------------
# CORS Configuration
# ------------------------------------------------------------------------------
# Frontend URL for CORS - MUST match your actual frontend domain
FRONTEND_URL=https://fleetpass.example.com

# ------------------------------------------------------------------------------
# Rate Limiting
# ------------------------------------------------------------------------------
THROTTLE_TTL=60000
THROTTLE_LIMIT=100

# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
# Log level: fatal, error, warn, info, debug, trace
LOG_LEVEL=info

# Pretty print logs (disable in production for JSON structured logs)
LOG_PRETTY=false

# ------------------------------------------------------------------------------
# External Services - Payment Processing
# ------------------------------------------------------------------------------
# Stripe Configuration
# SECURITY: Use live keys for production (sk_live_...)
STRIPE_SECRET_KEY=sk_live_REPLACE_WITH_LIVE_STRIPE_KEY
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_WITH_WEBHOOK_SECRET

# ------------------------------------------------------------------------------
# External Services - KYC Verification
# ------------------------------------------------------------------------------
# Persona Configuration
# SECURITY: Use production API key for live environment
PERSONA_API_KEY=persona_live_REPLACE_WITH_PRODUCTION_KEY
PERSONA_TEMPLATE_ID=itmpl_REPLACE_WITH_TEMPLATE_ID

# ------------------------------------------------------------------------------
# Monitoring & Observability (Optional)
# ------------------------------------------------------------------------------
# Sentry Error Tracking
# SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0

# New Relic APM
# NEW_RELIC_LICENSE_KEY=your_license_key
# NEW_RELIC_APP_NAME=FleetPass-Production

# DataDog APM
# DD_API_KEY=your_datadog_api_key
# DD_SERVICE=fleetpass-backend
# DD_ENV=production

# ------------------------------------------------------------------------------
# Feature Flags (Optional)
# ------------------------------------------------------------------------------
# Enable/disable specific features in production
# ENABLE_SWAGGER_DOCS=false
# ENABLE_GRAPHQL_PLAYGROUND=false

# ------------------------------------------------------------------------------
# Performance Tuning
# ------------------------------------------------------------------------------
# Database connection pool
# DATABASE_POOL_MIN=2
# DATABASE_POOL_MAX=10

# Redis connection pool
# REDIS_MAX_CONNECTIONS=10

# ------------------------------------------------------------------------------
# Backup & Disaster Recovery
# ------------------------------------------------------------------------------
# AWS S3 for backups (if using automated backups)
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_BACKUP_BUCKET=fleetpass-backups-prod
# AWS_REGION=us-east-1
